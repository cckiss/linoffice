/*!
 * project : search
 * author : LINOFFICE
 * 통합 검색
 */ function searchCheck(){return!!suggestForm.query.value}$(function(){let s=$("#suggestForm .suggest_input"),e=$("#suggestForm"),u=$("#suggestForm #suggestSubmit");$("#suggestForm .suggest_delete").on("click",function(e){s.val(""),s.focus(),$(this).css("display","none"),$("#suggestForm .suggest_wrap > div > div > ul").children().remove(),$("#suggestForm .suggest_wrap").css("display","none")}),s.on("focus",function(e){if($(".suggest_list > div > ul > li").length)$(".suggest_wrap").css("display","block");else{var u=s.val();u.length&&sub_suggestAjax(u)}}),u.on("click",function(s){suggestForm.query.value&&suggestForm.submit()}),$("body").on("click",function(s){e.has(s.target).length||$("#suggestForm .suggest_wrap").css("display","none")})});var sub_pre_suggest,sub_suggestLock=!1,sub_suggestTimeLock=!1;function sub_searchInputKeyup(s,e){if(37!==e.keyCode&&39!==e.keyCode){var u=$(s).closest("#suggestForm"),g=u.find(".suggest_wrap"),t=g.find("ul"),i=u.children(".suggest_delete"),n=$(s).val(),o=n.length;if(38===e.keyCode){sub_suggestDirectionKey(s,!1);return}if(40===e.keyCode){sub_suggestDirectionKey(s,!0);return}sub_pre_suggest!==n&&(sub_pre_suggest=n,o>0?(i.css("display","inline"),sub_suggestLock||sub_suggestTimeLock||"true"!=suggestEnable||(sub_suggestTimeLock=!0,setTimeout(function(){var e=$(s).val();e.length&&sub_suggestAjax(e),sub_suggestTimeLock=!1},1e3))):(t.children().remove(),g.css("display","none"),i.css("display","none")))}}function sub_suggestAjax(s){!sub_suggestLock&&(sub_suggestLock=!0,$.ajax({type:"post",datatype:"json",url:"/define/suggest",data:{query:s,limit:5,type:"0"},success:function(s){if(s.length>0){$("#suggestForm .suggest_wrap ul").children().remove();var e="";$.each(s,function(s,u){e+='<li data-index="'+s+'" data-keyword="'+u+'" onClick="javascript:suggestClick(this);">'+u+"</li>"}),$("#suggestForm .suggest_wrap ul").html(e),$("#suggestForm .suggest_wrap").css("display","block")}sub_suggestLock=!1},error:function(s,e,u){sub_suggestLock=!1}}))}function sub_suggestDirectionKey(s,e){var u=$(s).closest("#suggestForm"),g=u.find(".suggest_wrap > .suggest_list > div > ul > li");if(g.length){var t=u.find(".suggest_wrap > .suggest_list > div > ul > .focus");if(t.length){var i=Number(t.attr("data-index"));u.find(".suggest_wrap ul li").removeClass("focus"),u.find(".suggest_wrap ul li[data-index="+(e?i+1:i-1)+"]").addClass("focus")}else u.find(".suggest_wrap ul li[data-index="+(e?0:g.length-1)+"]").addClass("focus");$(s).val($(".suggest_wrap > .suggest_list > div > ul > .focus").attr("data-keyword"))}}