/*!
 * project : shop
 * author : LINOFFICE
 * 시세
 */ $(function(){var s=$("#suggestForm .suggest_input"),e=$("#suggestForm");$("#suggestForm .suggest_delete").on("click",function(e){s.val(""),s.focus(),$(this).css("display","none"),$("#suggestForm .suggest_wrap > div > div > ul").children().remove(),$("#suggestForm .suggest_wrap").css("display","none")}),s.on("focus",function(e){if($(".suggest_list > div > ul > li").length)$(".suggest_wrap").css("display","block");else{var t=s.val();t.length&&sub_suggestAjax(t)}}),$("body").on("click",function(s){e.has(s.target).length||$("#suggestForm .suggest_wrap").css("display","none")}),$(".searchrank-article").slick({dots:!1,arrows:!1,infinite:!0,slidesToShow:1,slidesToScroll:1}),$(".searchrank-nav .nav-item > a").on("click",function(s){$(".searchrank-article").slick("slickGoTo",$(this).attr("data-slide")-1)}),$(".searchrank-article").on("beforeChange",function(s,e,t,u){$(".searchrank-nav .nav-item").removeClass("on"),$("header .searchrank-nav .nav-item").eq(u).addClass("on"),$("footer .searchrank-nav .nav-item").eq(u).addClass("on")})});var sub_pre_suggest,sub_suggestLock=!1,sub_suggestTimeLock=!1;function sub_searchInputKeyup(s,e){if(37!==e.keyCode&&39!==e.keyCode){var t=$(s).closest("#suggestForm"),u=t.find(".suggest_wrap"),g=u.find("ul"),a=t.children(".suggest_delete"),i=$(s).val(),n=i.length;if(38===e.keyCode){sub_suggestDirectionKey(s,!1);return}if(40===e.keyCode){sub_suggestDirectionKey(s,!0);return}sub_pre_suggest!==i&&(sub_pre_suggest=i,n>0?(a.css("display","inline"),sub_suggestLock||sub_suggestTimeLock||"true"!==suggestEnable||(sub_suggestTimeLock=!0,setTimeout(function(){var e=$(s).val();e.length&&sub_suggestAjax(e),sub_suggestTimeLock=!1},1e3))):(g.children().remove(),u.css("display","none"),a.css("display","none")))}}function sub_suggestAjax(s){!sub_suggestLock&&(sub_suggestLock=!0,$.ajax({type:"post",datatype:"json",url:"/define/suggest",data:{query:s,limit:5,type:"1"},success:function(s){if(s.length){$("#suggestForm .suggest_wrap ul").children().remove();var e="";$.each(s,function(s,t){e+='<li data-index="'+s+'" data-keyword="'+t+'" onClick="javascript:itemSuggestClick(this);">'+t+"</li>"}),$("#suggestForm .suggest_wrap ul").html(e),$("#suggestForm .suggest_wrap").css("display","block")}sub_suggestLock=!1},error:function(s,e,t){sub_suggestLock=!1}}))}function sub_suggestDirectionKey(s,e){var t=$(s).closest("#suggestForm"),u=t.find(".suggest_wrap > .suggest_list > div > ul > li");if(u.length){var g=t.find(".suggest_wrap > .suggest_list > div > ul > .focus");if(g.length){var a=Number(g.attr("data-index"));t.find(".suggest_wrap ul li").removeClass("focus"),t.find(".suggest_wrap ul li[data-index="+(e?a+1:a-1)+"]").addClass("focus")}else t.find(".suggest_wrap ul li[data-index="+(e?0:u.length-1)+"]").addClass("focus");$(s).val($(".suggest_wrap > .suggest_list > div > ul > .focus").attr("data-keyword"))}}function itemSuggestClick(s){itemSearchForm.keyword.value=$(s).attr("data-keyword"),itemSearchForm.submit()}function itemSearchCheck(){return!!itemSearchForm.keyword.value}