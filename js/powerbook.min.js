/*!
 * project : powerbook
 * author : LINOFFICE
 * 파워북
 */ $(function(){$(".recommend__list").slick({dots:!0,arrows:!1,infinite:!0,slidesToShow:1,slidesToScroll:1}),$(".recommend__controller-prev").on("click",function(s){$(".recommend__list").slick("slickPrev")}),$(".recommend__controller-next").on("click",function(s){$(".recommend__list").slick("slickNext")});var s=$(".guide__list"),e={dots:!1,arrows:!1,infinite:!0,slidesToShow:1,slidesToScroll:1};let t=!1;640>$(window).width()&&(s.not(".slick-initialized").slick(e),t=!0),$(window).resize(function(){!t&&640>$(window).width()?(s.not(".slick-initialized").slick(e),t=!0):t&&(s.slick("unslick"),t=!1)});let i=$("#suggestForm #suggestInput"),u=$("#suggestForm"),g=$("#suggestForm #suggest_delete"),o=$("#suggestForm #suggestSubmit");g.on("click",function(s){i.val(""),i.focus(),$(this).css("display","none"),$("#suggestForm .suggest_wrap > div > div > ul").children().remove(),$("#suggestForm .suggest_wrap").css("display","none")}),o.on("click",function(s){let e=document.suggestForm;e.query.value&&e.submit()}),i.on("focus",function(s){if($(".suggest_list > div > ul > li").length)$(".suggest_wrap").css("display","block");else{var e=i.val();e.length&&sub_suggestAjax(e)}}),$("body").on("click",function(s){u.has(s.target).length||$("#suggestForm .suggest_wrap").css("display","none")})});var sub_pre_suggest,sub_suggestLock=!1,sub_suggestTimeLock=!1;function sub_searchInputKeyup(s,e){let t=e.keyCode;if(37!==t&&39!==t){var i=$(s).closest("#suggestForm"),u=i.find(".suggest_wrap"),g=u.find("ul"),o=i.children("#suggest_delete"),l=$(s).val(),n=l.length;if(9==t){sub_suggestDirectionKey(s,!e.shiftKey);return}if(38===t){sub_suggestDirectionKey(s,!1);return}if(40===t){sub_suggestDirectionKey(s,!0);return}sub_pre_suggest!==l&&(sub_pre_suggest=l,n>0?(o.css("display","inline"),sub_suggestLock||sub_suggestTimeLock||"true"!==suggestEnable||(sub_suggestTimeLock=!0,setTimeout(function(){var e=$(s).val();e.length&&sub_suggestAjax(e),sub_suggestTimeLock=!1},1e3))):(g.children().remove(),u.css("display","none"),o.css("display","none")))}}function sub_suggestAjax(s){!sub_suggestLock&&(sub_suggestLock=!0,getDatasWithOption([{type:"POST",url:"/define/suggest",dataType:"json",contentType:"application/json",Accept:"application/json",data:{query:s,limit:5,type:"0"}}],s=>{if(s.length>0){$("#suggestForm .suggest_wrap ul").children().remove();var e="";$.each(s,function(s,t){e+='<li data-index="'+s+'" data-keyword="'+t+'" onClick="javascript:powebookSuggestClick(this);">'+t+"</li>"}),$("#suggestForm .suggest_wrap ul").html(e),$("#suggestForm .suggest_wrap").css("display","block")}sub_suggestLock=!1},s=>{sub_suggestLock=!1}))}function sub_suggestDirectionKey(s,e){var t=$(s).closest("#suggestForm"),i=t.find(".suggest_wrap > .suggest_list > div > ul > li");if(i.length){var u=t.find(".suggest_wrap > .suggest_list > div > ul > .focus");if(u.length){var g=Number(u.attr("data-index"));t.find(".suggest_wrap ul li").removeClass("focus"),t.find(".suggest_wrap ul li[data-index="+(e?g+1:g-1)+"]").addClass("focus")}else t.find(".suggest_wrap ul li[data-index="+(e?0:i.length-1)+"]").addClass("focus");$(s).val($(".suggest_wrap > .suggest_list > div > ul > .focus").attr("data-keyword"))}}function powebookSuggestClick(s){suggestForm.query.value=$(s).attr("data-keyword"),suggestForm.submit()}function powerbookSearchCheck(){return!!suggestForm.query.value}function powerbookDelete(s){confirm("정말로 삭제하시겠습니까?")&&(location.href="/powerbook/delete?id="+s)}
