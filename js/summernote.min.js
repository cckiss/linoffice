/*!
 * project : summernote
 * author : LINOFFICE
 * 썸머노트 에디터 설정
 */ const emoticons=["https://cdn.jsdelivr.net/gh/cckiss/web/img/emoticon/char2_01.png","https://cdn.jsdelivr.net/gh/cckiss/web/img/emoticon/char2_02.png","https://cdn.jsdelivr.net/gh/cckiss/web/img/emoticon/char2_03.png","https://cdn.jsdelivr.net/gh/cckiss/web/img/emoticon/char2_04.png","https://cdn.jsdelivr.net/gh/cckiss/web/img/emoticon/char2_05.png","https://cdn.jsdelivr.net/gh/cckiss/web/img/emoticon/char2_06.png","https://cdn.jsdelivr.net/gh/cckiss/web/img/emoticon/char2_07.png","https://cdn.jsdelivr.net/gh/cckiss/web/img/emoticon/char2_09.png","https://cdn.jsdelivr.net/gh/cckiss/web/img/emoticon/char2_10.png","https://cdn.jsdelivr.net/gh/cckiss/web/img/emoticon/char2_11.png","https://cdn.jsdelivr.net/gh/cckiss/web/img/emoticon/char2_12.png","https://cdn.jsdelivr.net/gh/cckiss/web/img/emoticon/char2_13.png","https://cdn.jsdelivr.net/gh/cckiss/web/img/emoticon/char2_14.png","https://cdn.jsdelivr.net/gh/cckiss/web/img/emoticon/char3_01.png","https://cdn.jsdelivr.net/gh/cckiss/web/img/emoticon/char3_02.png","https://cdn.jsdelivr.net/gh/cckiss/web/img/emoticon/char3_03.png","https://cdn.jsdelivr.net/gh/cckiss/web/img/emoticon/char3_04.png","https://cdn.jsdelivr.net/gh/cckiss/web/img/emoticon/char3_05.png","https://cdn.jsdelivr.net/gh/cckiss/web/img/emoticon/char3_06.png","https://cdn.jsdelivr.net/gh/cckiss/web/img/emoticon/char3_07.png","https://cdn.jsdelivr.net/gh/cckiss/web/img/emoticon/char3_08.png","https://cdn.jsdelivr.net/gh/cckiss/web/img/emoticon/char3_09.png","https://cdn.jsdelivr.net/gh/cckiss/web/img/emoticon/char3_10.png","https://cdn.jsdelivr.net/gh/cckiss/web/img/emoticon/char3_11.png","https://cdn.jsdelivr.net/gh/cckiss/web/img/emoticon/char3_12.png","https://cdn.jsdelivr.net/gh/cckiss/web/img/emoticon/char3_13.png","https://cdn.jsdelivr.net/gh/cckiss/web/img/emoticon/char9_01.png","https://cdn.jsdelivr.net/gh/cckiss/web/img/emoticon/char9_02.png","https://cdn.jsdelivr.net/gh/cckiss/web/img/emoticon/char9_03.png","https://cdn.jsdelivr.net/gh/cckiss/web/img/emoticon/char9_04.png","https://cdn.jsdelivr.net/gh/cckiss/web/img/emoticon/char9_05.png","https://cdn.jsdelivr.net/gh/cckiss/web/img/emoticon/char9_06.png","https://cdn.jsdelivr.net/gh/cckiss/web/img/emoticon/char9_07.png","https://cdn.jsdelivr.net/gh/cckiss/web/img/emoticon/char9_08.png","https://cdn.jsdelivr.net/gh/cckiss/web/img/emoticon/char9_09.png","https://cdn.jsdelivr.net/gh/cckiss/web/img/emoticon/char9_10.png","https://cdn.jsdelivr.net/gh/cckiss/web/img/emoticon/char9_11.png","https://cdn.jsdelivr.net/gh/cckiss/web/img/emoticon/char9_12.png","https://cdn.jsdelivr.net/gh/cckiss/web/img/emoticon/char9_13.png","https://cdn.jsdelivr.net/gh/cckiss/web/img/emoticon/char9_14.png","https://cdn.jsdelivr.net/gh/cckiss/web/img/emoticon/char9_15.png","https://cdn.jsdelivr.net/gh/cckiss/web/img/emoticon/char9_16.png","https://cdn.jsdelivr.net/gh/cckiss/web/img/emoticon/char9_v2_01.gif","https://cdn.jsdelivr.net/gh/cckiss/web/img/emoticon/char9_v2_02.gif","https://cdn.jsdelivr.net/gh/cckiss/web/img/emoticon/char9_v2_03.gif","https://cdn.jsdelivr.net/gh/cckiss/web/img/emoticon/char9_v2_04.gif","https://cdn.jsdelivr.net/gh/cckiss/web/img/emoticon/char9_v2_05.gif","https://cdn.jsdelivr.net/gh/cckiss/web/img/emoticon/char9_v2_06.gif","https://cdn.jsdelivr.net/gh/cckiss/web/img/emoticon/char9_v2_07.gif","https://cdn.jsdelivr.net/gh/cckiss/web/img/emoticon/char9_v2_08.gif","https://cdn.jsdelivr.net/gh/cckiss/web/img/emoticon/char9_v2_09.gif","https://cdn.jsdelivr.net/gh/cckiss/web/img/emoticon/char9_v2_10.gif","https://cdn.jsdelivr.net/gh/cckiss/web/img/emoticon/char9_v2_11.gif","https://cdn.jsdelivr.net/gh/cckiss/web/img/emoticon/char9_v2_12.gif","https://cdn.jsdelivr.net/gh/cckiss/web/img/emoticon/char9_v2_13.gif","https://cdn.jsdelivr.net/gh/cckiss/web/img/emoticon/char9_v2_14.gif","https://cdn.jsdelivr.net/gh/cckiss/web/img/emoticon/char9_v2_15.gif","https://cdn.jsdelivr.net/gh/cckiss/web/img/emoticon/char9_v2_16.gif","https://cdn.jsdelivr.net/gh/cckiss/web/img/emoticon/emot_001_x3.gif","https://cdn.jsdelivr.net/gh/cckiss/web/img/emoticon/emot_002_x3.gif","https://cdn.jsdelivr.net/gh/cckiss/web/img/emoticon/emot_003_x3.gif","https://cdn.jsdelivr.net/gh/cckiss/web/img/emoticon/emot_004_x3.gif","https://cdn.jsdelivr.net/gh/cckiss/web/img/emoticon/emot_005_x3.gif","https://cdn.jsdelivr.net/gh/cckiss/web/img/emoticon/emot_006_x3.gif","https://cdn.jsdelivr.net/gh/cckiss/web/img/emoticon/emot_007_x3.gif","https://cdn.jsdelivr.net/gh/cckiss/web/img/emoticon/emot_008_x3.gif","https://cdn.jsdelivr.net/gh/cckiss/web/img/emoticon/emot_009_x3.gif","https://cdn.jsdelivr.net/gh/cckiss/web/img/emoticon/emot_010_x3.gif","https://cdn.jsdelivr.net/gh/cckiss/web/img/emoticon/emot_011_x3.gif","https://cdn.jsdelivr.net/gh/cckiss/web/img/emoticon/emot_012_x3.gif","https://cdn.jsdelivr.net/gh/cckiss/web/img/emoticon/emot_013_x3.gif","https://cdn.jsdelivr.net/gh/cckiss/web/img/emoticon/emot_014_x3.gif","https://cdn.jsdelivr.net/gh/cckiss/web/img/emoticon/emot_015_x3.gif","https://cdn.jsdelivr.net/gh/cckiss/web/img/emoticon/emot_016_x3.gif"];var editor=$("#summernote");function emoticon_layer_close(){let e=$("#emoticonLayer1");return e.hasClass("active")&&($(".dimmed").css("display","none"),$("body").css("overflow",""),e.removeClass("active")),!1}function add_emoticon(e){let i=$(e).children("img").attr("src");editor.summernote("pasteHTML",'<img src="'+i+'" width="140" height="140" alt="">'),emoticon_layer_close()}function append_emoticon(){let e=emoticons.map((e,i)=>'<li class="emoticon-items" onClick="add_emoticon(this);"><img src="'+e+'" class="fe-emoticon" data-emoticon="true" alt=""></li>').join("");$(".note-editor.note-frame.panel.panel-default").append('<div id="emoticonLayer1" aria-hidden="false" tabindex="-1" role="dialog" aria-label="이모티콘" class="editor-layer-emoticon"><div class="editor-layer-header"><h2 class="editor-layer-title">이모티콘</h2><button type="button" class="fe-btn fe-btn-close" onClick="emoticon_layer_close();"><i class="editor-icon-close"></i></button></div><div class="editor-layer-body"><div class="emoticon-wrap"><ul class="emoticon-list">'+e+"</ul></div></div></div>")}function uploadFile(e,i){let t=$("#dividPath").val();for(var c=0;c<e.length;c++){if(e[c].size>=1048576){alert("이미지는 1MB이하로 등록하십시오.");return}!function(c){var s=new FormData;s.append("uploadFile",e[c]),s.append("dividPath",t),$.ajax({data:s,type:"POST",url:"/define/editor/upload",contentType:!1,processData:!1,cache:!1,success:function(e){if(e){e=e.replaceAll("\\","/"),$(i).summernote("editor.insertImage",e);let t=$("#mainImg").val();t&&!t.length&&$("#mainImg").val(e);let c=$("#oriList").val();c&&$("#oriList").val(c?c+","+e:e)}else alert("이미지는 1MB이하로 등록하십시오.")}})}(c)}}function deleteFile(e){e=decodeString(e),$.ajax({data:{src:e},type:"POST",url:"/define/editor/delete",cache:!1,success:function(i){if(i){let t=e.substring(e.indexOf(location.host)+location.host.length);$("#mainImg").val()&&$("#mainImg").val()===t&&$("#mainImg").val("");var c=$("#tempList").val();$("#tempList").val(c?c+","+t:t);let s=$("#oriList").val();s&&$("#oriList").val(s.replace(t,""))}}})}function decodeString(e){return decodeURIComponent(decodeURI(e))}editor.summernote({height:500,minHeight:null,maxHeight:null,focus:!1,lang:"ko-KR",placeholder:"내용",tabDisable:!0,toolbar:[["style",["style"]],["fontstyle",["bold","underline","color"]],["paragraph",["paragraph","height","ul","ol"]],["insert",["link","table","picture","video"]],["custom",["emoticon"]]],buttons:{emoticon(){let e=$.summernote.ui;return e.button({contents:'<i class="xi-emoticon-smiley-o">',tooltip:"이모티콘",click:function(){let e=$("#emoticonLayer1");e.hasClass("active")||($(".dimmed").css("display","block"),$("body").css("overflow","hidden"),$("#emoticonLayer1").addClass("active"))}}).render()}},callbacks:{onImageUpload:function(e,i,t){uploadFile(e,this)},onMediaDelete:function(e){deleteFile(e[0].src)}}}),$("body").mouseup(function(e){var i=$("#emoticonLayer1");!i.has(e.target).length&&i.hasClass("active")&&($(".dimmed").css("display","none"),$("body").css("overflow",""),i.removeClass("active")),eventStop(e)}),append_emoticon();
