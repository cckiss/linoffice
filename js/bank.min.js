/*!
 * project : bank
 * author : LINOFFICE
 * 계좌 등록
 */ let bank_name,bank_number,owner_name,phone;function init_progress(){let e='<section class="init_section">';e+='<div class="message_area"><h1>계좌 등록 안내</h1><ul>'+regist_message+"</ul></div>",e+='<div class="btn_wrap"><button type="button" class="btn" onClick="setting_progress();"><span>다음</span></button></div>',e+="</section>",$(".regist_container").html(e)}function setting_progress(){bank_name=bank_number=owner_name=phone=void 0;let e='<section class="setting_section">';e+='<div class="message_area"><p>계좌를 설정하십시오.</p></div>',e+='<div class="input_area">',e+='<div class="input_box"><label>은행명</label><input type="text" autocomplete="off" placeholder="은행명을 입력해주세요" id="reg_bank_name" maxlength="10"></div>',e+='<div class="input_box"><label>계좌번호</label><input type="text" autocomplete="off" placeholder="계좌번호를 입력해주세요" id="reg_bank_number" maxlength="20"></div>',e+='<div class="input_box"><label>계좌주</label><input type="text" autocomplete="off" placeholder="계좌주를 입력해주세요" id="reg_owner_name" maxlength="10"></div>',e+='<div class="input_box"><label>연락처</label><input type="text" autocomplete="off" placeholder="연락처를 입력해주세요" id="reg_phone" maxlength="13" onKeyup="OnCheckPhone(this);"></div>',e+="</div>",e+='<div class="btn_wrap"><button type="button" class="btn left" onClick="init_progress();"><span>이전</span></button><button type="button" class="btn right" onClick="finish_progress();"><span>다음</span></button></div>',e+="</section>",$(".regist_container").html(e),bank&&($("#reg_bank_name").val(bank.bank_name),$("#reg_bank_number").val(bank.bank_number),$("#reg_owner_name").val(bank.owner_name),$("#reg_phone").val(bank.phone))}function finish_progress(){let e=$("#reg_bank_name").val();if(!e){popupShow("은행명이 설정되지 않았습니다.",'<span class="type2"><a href="javascript:popupClose();" class="close">닫기</a></span>',null);return}let n=$("#reg_bank_number").val();if(!n){popupShow("계좌번호가 설정되지 않았습니다.",'<span class="type2"><a href="javascript:popupClose();" class="close">닫기</a></span>',null);return}let a=$("#reg_owner_name").val();if(!a){popupShow("계좌주가 설정되지 않았습니다.",'<span class="type2"><a href="javascript:popupClose();" class="close">닫기</a></span>',null);return}let s=$("#reg_phone").val();if(!s||13!=s.length){popupShow("연락처가 설정되지 않았습니다.",'<span class="type2"><a href="javascript:popupClose();" class="close">닫기</a></span>',null);return}if(bank&&e==bank.bank_name&&n==bank.bank_number&&a==bank.owner_name&&s==bank.phone){popupShow("변경된 데이터가 없습니다.",'<span class="type2"><a href="javascript:popupClose();" class="close">닫기</a></span>',null);return}bank_name=e,bank_number=n,owner_name=a,phone=s;let t='<section class="finish_section">';t+='<div class="message_area"><p>'+(bank?"정보를 확인 후 변경 버튼을 눌러주세요.":"정보를 확인 후 등록 버튼을 눌러주세요.")+"</p></div>",t+='<div class="finish_area">',t+='<div class="seller_bank txt">은행: <span>'+bank_name+"</span></div>",t+='<div class="seller_bank_number txt">계좌번호: <span>'+bank_number+"</span></div>",t+='<div class="seller_banker txt">계좌주: <span>'+owner_name+"</span></div>",t+='<div class="seller_phone txt">연락처: <span>'+phone+"</span></div>",t+="</div>",t+='<div class="btn_wrap"><button type="button" class="btn left" onClick="setting_progress();"><span>이전</span></button><button type="button" class="btn right" onClick="regist();"><span>'+(bank?"변경":"등록")+"</span></button></div>",t+="</section>",$(".regist_container").html(t)}function finish_regist(){popupClose(),window.opener.location.reload(),window.self.close()}$(function(){includeHTML(document.querySelector("#svg-container"),"https://cdn.jsdelivr.net/gh/cckiss/web/svg.html"),init_progress()});let regist_lock=!1;function regist(){if(regist_lock)return;let e={bank_name:bank_name,bank_number:bank_number,owner_name:owner_name,phone:phone};regist_lock=!0,getDatasWithOption([{type:"POST",url:"/define/bank/regist",dataType:"json",contentType:"application/json",Accept:"application/json",data:e}],e=>{switch(e){case 1:popupShow(bank?"정상적으로 변경되었습니다.":"정상적으로 등록되었습니다.",'<span class="type2"><a href="javascript:finish_regist();" class="close">닫기</a></span>',null);break;case 2:popupShow("계정을 찾을 수 없습니다.",'<span class="type2"><a href="javascript:popupClose();" class="close">닫기</a></span>',null);break;default:popupShow(bank?"변경에 실패하였습니다.":"등록에 실패하였습니다.",'<span class="type2"><a href="javascript:popupClose();" class="close">닫기</a></span>',null)}regist_lock=!1},e=>{regist_lock=!1})}
