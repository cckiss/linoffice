/*!
 * project : account
 * author : LINOFFICE
 * 계정 로그인 페이지
 */ let account_singleton=null,account_singletonEnforcer="singletonEnforcer";class Account{constructor(t){if(t!==account_singletonEnforcer)throw"Cannot--construct singleton";this.init()}static get instance(){return account_singleton||(account_singleton=new Account(account_singletonEnforcer)),account_singleton}init(){this.input_email=$(".input-email #login_name"),this.input_pwd=$(".input-pwd #password"),this.message_email=$(".input-email .msg"),this.message_pwd=$(".input-pwd .msg"),this.btnLogin=document.querySelector("#btnPlayncLogin"),this.addEvents()}login(t){if(!this.input_email.val()){this.message_email.text("아이디를 입력해주세요."),this.input_email.focus();return}if(!this.input_pwd.val()){this.message_pwd.text("비밀번호를 입력해주세요."),this.input_pwd.focus();return}let e={loginname:this.input_email.val(),password:this.input_pwd.val()};getDatasWithOption([{type:"POST",url:"/define/account/loginReCheck",dataType:"json",contentType:"application/json",Accept:"application/json",data:e}],e=>{e?location.href=t||"/":this.message_email.text("등록하지 않은 아이디이거나 비밀번호가 일치하지 않습니다.")},t=>{throw Error("loginCheck from account.js Error")})}keyup(t){let e=$(t).val();$(t).focus()&&(e?($(t).closest("div").find(".btn-delete").css("display","inline"),$(t).closest("div").find(".msg").text("")):$(t).closest("div").find(".btn-delete").css("display","none")),$(t).focus(function(){$(t).closest("div").find(".btn-delete").css("display",e?"inline":"none")})}addEvents(){let t=this;this.input_email.on("keyup",function(e){t.keyup($(this))}),this.input_pwd.on("keyup",function(e){t.keyup($(this))}),this.btnLogin.addEventListener("click",e=>{t.login(this.btnLogin.getAttribute("data-url"))});let e=$(".keypad"),s=$(".keypad-btn"),n=$(".contents");s.on("click",function(t){$(this).toggleClass("on"),n.hasClass("moveDown")?(n.removeClass("moveDown"),n.addClass("moveUp"),e.removeClass("moveShow"),e.addClass("moveHide")):(n.removeClass("moveUp"),n.addClass("moveDown"),e.removeClass("moveHide"),e.addClass("moveShow"))}),$(".btn-delete").on("click",function(t){let e=$(this).closest("div").find("input");e.val(""),$(this).css("display","none")}),$(".my-character-list .list .wrap-items").slick({dots:!0,arrows:!1,infinite:!1,slidesToShow:6,slidesToScroll:6,responsive:[{breakpoint:960,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:480,settings:{slidesToShow:2,slidesToScroll:2}}]}),$(window).resize(function(){window.outerWidth>972&&(s.removeClass("on"),n.removeClass("moveDown"),e.removeClass("moveShow"))})}}Account.instance;
