/*!
 * project : account
 * author : LINOFFICE
 * 계정 로그인 페이지
 */ let account_singleton=null,account_singletonEnforcer="singletonEnforcer";class Account{constructor(n){if(n!==account_singletonEnforcer)throw"Cannot--construct singleton";this.init()}static get instance(){return account_singleton||(account_singleton=new Account(account_singletonEnforcer)),account_singleton}init(){this.input_email=$(".input-email #login_name"),this.input_pwd=$(".input-pwd #password"),this.message_email=$(".input-email .msg"),this.message_pwd=$(".input-pwd .msg"),this.btnLogin=document.querySelector("#btnPlayncLogin"),this.login_sync=!1,this.addEvents()}login(n){if(!this.input_email.val()){this.message_email.text("아이디를 입력해주세요."),this.input_email.focus();return}if(!this.input_pwd.val()){this.message_pwd.text("비밀번호를 입력해주세요."),this.input_pwd.focus();return}if(this.login_sync)return;this.login_sync=!0;let t={loginname:this.input_email.val(),password:this.input_pwd.val()};getDatasWithOption([{type:"POST",url:"/define/account/loginReCheck",dataType:"json",contentType:"application/json",Accept:"application/json",data:t}],t=>{this.login_sync=!1,t?location.href=n||"/":this.message_email.text("등록하지 않은 아이디이거나 비밀번호가 일치하지 않습니다.")},n=>{throw this.login_sync=!1,Error("loginCheck from account.js Error")})}keyup(n){let t=$(n).val();$(n).focus()&&(t?($(n).closest("div").find(".btn-delete").css("display","inline"),$(n).closest("div").find(".msg").text("")):$(n).closest("div").find(".btn-delete").css("display","none")),$(n).focus(function(){$(n).closest("div").find(".btn-delete").css("display",t?"inline":"none")})}addEvents(){let n=this;this.input_email.on("keyup",function(t){n.keyup($(this))}),this.input_pwd.on("keyup",function(t){n.keyup($(this))}),this.btnLogin.addEventListener("click",t=>{n.login(this.btnLogin.getAttribute("data-url"))});let t=$(".keypad"),e=$(".keypad-btn"),s=$(".contents");e.on("click",function(n){$(this).toggleClass("on"),s.hasClass("moveDown")?(s.removeClass("moveDown"),s.addClass("moveUp"),t.removeClass("moveShow"),t.addClass("moveHide")):(s.removeClass("moveUp"),s.addClass("moveDown"),t.removeClass("moveHide"),t.addClass("moveShow"))}),$(".btn-delete").on("click",function(n){let t=$(this).closest("div").find("input");t.val(""),$(this).css("display","none")}),$(window).resize(function(){window.outerWidth>972&&(e.removeClass("on"),s.removeClass("moveDown"),t.removeClass("moveShow"))})}}Account.instance;
