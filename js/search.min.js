/*!
 * project : search
 * author : LINOFFICE
 * 통합 검색
 */ function searchCheck(){return!!suggestForm.query.value}$(function(){let s=$("#suggestForm .suggest_input"),e=$("#suggestForm"),t=$("#suggestForm #suggestSubmit");$("#suggestForm .suggest_delete").on("click",function(e){s.val(""),s.focus(),$(this).css("display","none"),$("#suggestForm .suggest_wrap > div > div > ul").children().remove(),$("#suggestForm .suggest_wrap").css("display","none")}),s.on("focus",function(e){if($(".suggest_list > div > ul > li").length)$(".suggest_wrap").css("display","block");else{var t=s.val();t.length&&sub_suggestAjax(t)}}),t.on("click",function(s){suggestForm.query.value&&suggestForm.submit()}),$("body").on("click",function(s){e.has(s.target).length||$("#suggestForm .suggest_wrap").css("display","none")})});var sub_pre_suggest,sub_suggestLock=!1,sub_suggestTimeLock=!1;function sub_searchInputKeyup(s,e){let t=e.keyCode;if(37!=t&&39!=t){var g=$(s).closest("#suggestForm"),u=g.find(".suggest_wrap"),i=u.find("ul"),n=g.children(".suggest_delete"),a=$(s).val(),l=a.length;if(9==t){nccSuggestDirectionKey(s,!e.shiftKey);return}if(38==t){nccSuggestDirectionKey(s,!1);return}if(40==t){nccSuggestDirectionKey(s,!0);return}sub_pre_suggest!==a&&(sub_pre_suggest=a,l>0?(n.css("display","inline"),sub_suggestLock||sub_suggestTimeLock||"true"!=suggestEnable||(sub_suggestTimeLock=!0,setTimeout(function(){var e=$(s).val();e.length&&sub_suggestAjax(e),sub_suggestTimeLock=!1},1e3))):(i.children().remove(),u.css("display","none"),n.css("display","none")))}}function sub_suggestAjax(s){!sub_suggestLock&&(sub_suggestLock=!0,getDatasWithOption([{type:"POST",url:"/define/suggest",dataType:"json",contentType:"application/json",Accept:"application/json",data:{query:s,limit:5,type:"0"}}],s=>{if(s.length>0){$("#suggestForm .suggest_wrap ul").children().remove();var e="";$.each(s,function(s,t){e+='<li data-index="'+s+'" data-keyword="'+t+'" onClick="javascript:suggestClick(this);">'+t+"</li>"}),$("#suggestForm .suggest_wrap ul").html(e),$("#suggestForm .suggest_wrap").css("display","block")}sub_suggestLock=!1},s=>{sub_suggestLock=!1}))}function sub_suggestDirectionKey(s,e){var t=$(s).closest("#suggestForm"),g=t.find(".suggest_wrap > .suggest_list > div > ul > li");if(g.length){var u=t.find(".suggest_wrap > .suggest_list > div > ul > .focus");if(u.length){var i=Number(u.attr("data-index"));t.find(".suggest_wrap ul li").removeClass("focus"),t.find(".suggest_wrap ul li[data-index="+(e?i+1:i-1)+"]").addClass("focus")}else t.find(".suggest_wrap ul li[data-index="+(e?0:g.length-1)+"]").addClass("focus");$(s).val($(".suggest_wrap > .suggest_list > div > ul > .focus").attr("data-keyword"))}}
