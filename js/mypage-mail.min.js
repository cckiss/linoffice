/*!
 * project : mypage-mail
 * author : LINOFFICE
 * 마이페이지 편지함
 */ $(function(){if(!account||!account.firstChar){$(".wrap-section-maillist").html("캐릭터 정보를 찾을 수 없습니다.");return}var e=account.firstChar.mail,s=[],a=[],i=[];$.each(e,function(e,t){switch(t.code){case 1:a.push(t);break;case 2:i.push(t);break;default:s.push(t)}});var t=$(window).width(),n={mailType:"NORMAL"},l=function(e){$(".pagination-container").pagination({dataSource:e,pageSize:10,showPrevious:!1,showNext:!1,showPageNumbers:!0,callback:function(e,s){var a="<ul>";e.length?$.each(e,function(e,s){a+=`<li><header><div class="subject ${s.isCheck?"":"new"}" onclick="$(this).parent().toggleClass('on').next().toggle();">${s.subject}</div><div class="info"><span class="from">${s.sender}</span> <span class="date">${moment(new Date(s.date)).format("YYYY-MM-DD")}</span></div></header><article>${s.content}</article></li>`}):a+=`<div class="no-data"><p>편지가 없습니다.</p></div>`,a+="</ul>",$(".normal-list").html(a)}})};$(window).resize(function(){var e=window.outerWidth;t=e,e<=960?c.find(".select").hasClass("open")&&(c.find(".select").removeClass("open"),c.find(".select-tab.option").css("display","none")):c.find(".select").hasClass("open")||(c.find(".select").addClass("open"),c.find(".select-tab.option").css("display","block"))});var c=$(".ui-select-tab.select-tab-maillist");c.find(".select").on("click",function(){$(this).hasClass("open")?d():o()});var o=function(){c.find(".select").addClass("open"),c.find(".select-tab.option").css("display","block")},d=function(){c.find(".select").removeClass("open"),c.find(".select-tab.option").css("display","none")},r=c.find("li");r.on("click",function(e){var o=$(this).attr("data-value");if(o!==n.mailType){switch(n.mailType=o,o){case"PLEDGE":l(a);break;case"STOREGE":l(i);break;default:l(s)}r.children("a").removeClass("selected"),$(this).children("a").addClass("selected"),c.find(".select > span").html($(this).children("a").html()),t<=960&&d()}eventStop(e)}),t<=960?d():o(),l(s)});
