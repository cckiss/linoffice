/*!
 * project : mypage-inventory
 * author : LINOFFICE
 * 마이페이지 인벤토리
 */ $(function(){if(!account||!account.firstChar){$(".wrap-section-inventory").html("캐릭터 정보를 찾을 수 없습니다.");return}var e=account.firstChar.inventory,n=account.normalWarehouse,s=account.packageWarehouse;$("#inv-size").html(e.length),$("#invs-size").html(e.length),$("#normalware-size").html(n.length),$("#packageware-size").html(s.length);var t=$(window).width(),i={invType:"char",sortType:"ALL"},a=function(e){$(".pagination-container").pagination({dataSource:e,pageSize:10,showPrevious:!1,showNext:!1,showPageNumbers:!0,callback:function(e,n){var s="<ul>";e.length?$.each(e,function(e,n){s+='<li><img src="/img/item/'+n.item.invgfx+'.png" alt="" onerror="this.src=\'/img/shop/noimg.gif\'" class="thumb"><strong class="name'+o(n.bless)+'">'+c(n.item.name,n.enchant,n.attr)+" ("+commaAdd(n.count)+")</strong></li>"}):s+='<div class="no-data"><p>아이템이 없습니다.</p></div>',s+="</ul>",$(".item-list").html(s)}})},l=["","화령:1단의 ","화령:2단의 ","화령:3단의 ","화령:4단의 ","화령:5단의 ","수령:1단의 ","수령:2단의 ","수령:3단의 ","수령:4단의 ","수령:5단의 ","풍령:1단의 ","풍령:2단의 ","풍령:3단의 ","풍령:4단의 ","풍령:5단의 ","지령:1단의 ","지령:2단의 ","지령:3단의 ","지령:4단의 ","지령:5단의 ",],c=function(e,n,s){return n<0?l[s]+n+" "+e:n>0?l[s]+"+"+n+" "+e:l[s]+e},o=function(e){switch(e){case 0:return" status-bless";case 2:return" status-curse";default:return""}};$(window).resize(function(){var e=window.outerWidth;t=e,e<=960?r.find(".select").hasClass("open")&&(r.find(".select").removeClass("open"),r.find(".select-tab.option").css("display","none")):r.find(".select").hasClass("open")||(r.find(".select").addClass("open"),r.find(".select-tab.option").css("display","block"))});var r=$(".ui-select-tab.select-tab-inventory");r.find(".select").on("click",function(){$(this).hasClass("open")?p():d()});var d=function(){r.find(".select").addClass("open"),r.find(".select-tab.option").css("display","block")},p=function(){r.find(".select").removeClass("open"),r.find(".select-tab.option").css("display","none")},h=r.find("li");h.on("click",function(l){var c=$(this).attr("data-value");if(c!==i.invType){switch(i.invType=c,c){case"normal":a(n);break;case"package":a(s);break;default:a(e)}h.children("a").removeClass("selected"),$(this).children("a").addClass("selected"),r.find(".select > span").html($(this).children("a").html()),t<=960&&p(),m.find(".select > span").html("전체"),i.sortType="ALL",u()}eventStop(l)});var f=function(){m.find(".select").addClass("open"),m.find(".option").css("display","block")},u=function(){m.find(".select").removeClass("open"),m.find(".option").css("display","none")},m=$(".ui-dropdown.ui-dropdown-sort1");m.find(".select").on("click",function(){$(this).hasClass("open")?u():f()});var v=m.find("li"),g=[];v.on("click",function(t){var l=$(this).attr("data-value");l!==i.sortType&&(i.sortType=l,"ALL"!==l?(g.length=0,$.each("normal"===i.invType?n:"package"===i.invType?s:e,function(e,n){switch(l){case"EQUIP":(1===n.item.itemType||2===n.item.itemType)&&g.push(n);break;case"ETC":0===n.item.itemType&&g.push(n)}}),a(g)):a("normal"===i.invType?n:"package"===i.invType?s:e),v.removeClass("selected"),$(this).addClass("selected"),m.find(".select > span").html($(this).children("a").html())),u(),eventStop(t)}),$(document).ready(function(){t<=960?p():d(),a(e)})});
