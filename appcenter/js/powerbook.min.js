/*!
 * project : powerbook
 * author : LINOFFICE
 * 파워북
 */ $(function(){$(".recommend__list").slick({dots:!0,arrows:!1,infinite:!0,slidesToShow:1,slidesToScroll:1}),$(".recommend__controller-prev").on("click",function(s){$(".recommend__list").slick("slickPrev")}),$(".recommend__controller-next").on("click",function(s){$(".recommend__list").slick("slickNext")});var s=$(".guide__list"),e={dots:!1,arrows:!1,infinite:!0,slidesToShow:1,slidesToScroll:1};let t=!1;640>$(window).width()&&(s.not(".slick-initialized").slick(e),t=!0),$(window).resize(function(){!t&&640>$(window).width()?(s.not(".slick-initialized").slick(e),t=!0):t&&(s.slick("unslick"),t=!1)});let u=$("#suggestForm #suggestInput"),i=$("#suggestForm"),g=$("#suggestForm #suggest_delete"),o=$("#suggestForm #suggestSubmit");g.on("click",function(s){u.val(""),u.focus(),$(this).css("display","none"),$("#suggestForm .suggest_wrap > div > div > ul").children().remove(),$("#suggestForm .suggest_wrap").css("display","none")}),o.on("click",function(s){let e=document.suggestForm;e.query.value&&e.submit()}),u.on("focus",function(s){if($(".suggest_list > div > ul > li").length)$(".suggest_wrap").css("display","block");else{var e=u.val();e.length&&sub_suggestAjax(e)}}),$("body").on("click",function(s){i.has(s.target).length||$("#suggestForm .suggest_wrap").css("display","none")})});var sub_pre_suggest,sub_suggestLock=!1,sub_suggestTimeLock=!1;function sub_searchInputKeyup(s,e){if(37!==e.keyCode&&39!==e.keyCode){var t=$(s).closest("#suggestForm"),u=t.find(".suggest_wrap"),i=u.find("ul"),g=t.children("#suggest_delete"),o=$(s).val(),l=o.length;if(38===e.keyCode){sub_suggestDirectionKey(s,!1);return}if(40===e.keyCode){sub_suggestDirectionKey(s,!0);return}sub_pre_suggest!==o&&(sub_pre_suggest=o,l>0?(g.css("display","inline"),sub_suggestLock||sub_suggestTimeLock||"true"!==suggestEnable||(sub_suggestTimeLock=!0,setTimeout(function(){var e=$(s).val();e.length&&sub_suggestAjax(e),sub_suggestTimeLock=!1},1e3))):(i.children().remove(),u.css("display","none"),g.css("display","none")))}}function sub_suggestAjax(s){!sub_suggestLock&&(sub_suggestLock=!0,$.ajax({type:"post",datatype:"json",url:"/define/suggest",data:{query:s,limit:5,type:"0"},success:function(s){if(s.length>0){$("#suggestForm .suggest_wrap ul").children().remove();var e="";$.each(s,function(s,t){e+='<li data-index="'+s+'" data-keyword="'+t+'" onClick="javascript:powebookSuggestClick(this);">'+t+"</li>"}),$("#suggestForm .suggest_wrap ul").html(e),$("#suggestForm .suggest_wrap").css("display","block")}sub_suggestLock=!1},error:function(s,e,t){sub_suggestLock=!1}}))}function sub_suggestDirectionKey(s,e){var t=$(s).closest("#suggestForm"),u=t.find(".suggest_wrap > .suggest_list > div > ul > li");if(u.length){var i=t.find(".suggest_wrap > .suggest_list > div > ul > .focus");if(i.length){var g=Number(i.attr("data-index"));t.find(".suggest_wrap ul li").removeClass("focus"),t.find(".suggest_wrap ul li[data-index="+(e?g+1:g-1)+"]").addClass("focus")}else t.find(".suggest_wrap ul li[data-index="+(e?0:u.length-1)+"]").addClass("focus");$(s).val($(".suggest_wrap > .suggest_list > div > ul > .focus").attr("data-keyword"))}}function powebookSuggestClick(s){suggestForm.query.value=$(s).attr("data-keyword"),suggestForm.submit()}function powerbookSearchCheck(){return!!suggestForm.query.value}function powerbookDelete(s){confirm("정말로 삭제하시겠습니까?")&&(location.href="/powerbook/delete?id="+s)}
